<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ðŸ’© Ð’Ð¸ÐºÑ‚Ð¾Ñ€Ð¸Ð½Ð°</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin: 50px;
      }
      .container {
        max-width: 600px;
        margin: auto;
        padding: 20px;
        border: 2px solid #333;
        border-radius: 10px;
        background-color: #f9f9f9;
      }
      input {
        width: 80%;
        padding: 10px;
        margin-top: 10px;
        font-size: 16px;
      }
      button {
        padding: 10px 20px;
        margin-top: 10px;
        font-size: 16px;
        cursor: pointer;
      }
      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2 id="question"></h2>
      <input type="text" id="answer" placeholder="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¾Ñ‚Ð²ÐµÑ‚..." maxlength="200" />
      <p id="response" class="hidden"></p>
      <button id="submit">ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ð²ÐµÑ‚</button>
      <button id="next" class="hidden">ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ</button>
    </div>

    <script>
      const questions = [
        { q: 'Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ Ð² Ð´ÐµÐ½ÑŒ ÑÑ€ÐµÑ‚ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº?', a: 'Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ 150-250 Ð³Ñ€Ð°Ð¼Ð¼ ðŸ’© Ð² Ð´ÐµÐ½ÑŒ, Ð½Ð¾ ÐµÑÐ»Ð¸ Ñ‚Ñ‹ Ñ„Ð°Ð½Ð°Ñ‚ Ñ„Ð°ÑÑ‚Ñ„ÑƒÐ´Ð° â€“ ÑÑ‡Ð¸Ñ‚Ð°Ð¹ Ð½Ð° 30% Ð±Ð¾Ð»ÑŒÑˆÐµ!', type: 'number' },
        { q: 'Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ Ð² Ð´ÐµÐ½ÑŒ ÑÑ€ÐµÑ‚ ÐºÑƒÑ€Ð¸Ñ†Ð°?', a: 'ÐžÐ´Ð½Ð° ÐºÑƒÑ€Ð¸Ñ†Ð° ðŸ’© Ð´Ð¾ 15 Ñ€Ð°Ð· Ð² Ð´ÐµÐ½ÑŒ, Ð¾ÑÑ‚Ð°Ð²Ð»ÑÑ Ð¾ÐºÐ¾Ð»Ð¾ 50 Ð³Ñ€Ð°Ð¼Ð¼ Ð³Ð¾Ð²Ð½Ð°. ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²ÑŒ, Ñƒ Ñ‚ÐµÐ±Ñ 100 ÐºÑƒÑ€ â€“ ÑÑ‚Ð¾ ÑƒÐ¶Ðµ 5 ÐºÐ³ Ð² Ð´ÐµÐ½ÑŒ!', type: 'number' },
        { q: 'Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ ðŸ’© Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ Ð·Ð° Ð¶Ð¸Ð·Ð½ÑŒ Ñƒ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð³Ð¾ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ°?', a: 'Ð’ ÑÑ€ÐµÐ´Ð½ÐµÐ¼ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº ÑÑ€ÐµÑ‚ Ð¾ÐºÐ¾Ð»Ð¾ 6 Ñ‚Ð¾Ð½Ð½ Ð·Ð° Ð¶Ð¸Ð·Ð½ÑŒ. ÐœÐ¾Ð¶Ð½Ð¾ Ð·Ð°ÑÑ‹Ð¿Ð°Ñ‚ÑŒ Ð±Ð°ÑÑÐµÐ¹Ð½!', type: 'number' },
        { q: 'Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ ðŸ’© Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ ÐºÐ¾Ñ€Ð¾Ð²Ð° Ð·Ð° Ð´ÐµÐ½ÑŒ?', a: 'ÐšÐ¾Ñ€Ð¾Ð²ÑŒÐµ Ð³Ð¾Ð²Ð½Ð¾ â€“ ÑÑ‚Ð¾ Ð·Ð¾Ð»Ð¾Ñ‚Ð¾ Ð´Ð»Ñ Ñ„ÐµÑ€Ð¼ÐµÑ€Ð¾Ð²! Ð’ Ð´ÐµÐ½ÑŒ Ð¾Ð´Ð½Ð° ÐºÐ¾Ñ€Ð¾Ð²Ð° Ð²Ñ‹Ð´Ð°Ñ‘Ñ‚ 30-50 ÐºÐ³ Ð½Ð°Ð²Ð¾Ð·Ð°. Ð•ÑÐ»Ð¸ Ñƒ Ñ‚ÐµÐ±Ñ ÑÑ‚Ð°Ð´Ð¾ â€“ Ñ‚Ð²Ð¾Ð¸ Ð¿Ð¾Ð»Ñ ÑƒÐ´Ð¾Ð±Ñ€ÐµÐ½Ñ‹ Ð½Ð°Ð²ÑÐµÐ³Ð´Ð°!', type: 'number' },
        { q: 'ÐšÐ°ÐºÐ¾Ð¹ Ð¶Ð¸Ð²Ð¾Ñ‚Ð½Ñ‹Ð¹ Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½ Ð¿Ð¾ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ñƒ ðŸ’©?', a: 'Ð¡Ð¸Ð½Ð¸Ð¹ ÐºÐ¸Ñ‚! ÐžÐ½ Ð¼Ð¾Ð¶ÐµÑ‚ Ð½Ð°ÑÑ€Ð°Ñ‚ÑŒ Ð´Ð¾ 3 Ñ‚Ð¾Ð½Ð½ Ð·Ð° Ñ€Ð°Ð·. Ð•ÑÐ»Ð¸ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚ÑŒ â€“ Ð¿Ñ€Ð¸Ð´ÐµÑ‚ÑÑ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¿Ð¾ÑÑ‚Ð°Ñ€Ð°Ñ‚ÑŒÑÑ!', type: 'text' },
        { q: 'Ð§Ñ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚, ÐµÑÐ»Ð¸ Ð½Ðµ ÑÑ€Ð°Ñ‚ÑŒ Ð½ÐµÐ´ÐµÐ»ÑŽ?', a: 'Ð¢Ñ‹ ÑÑ‚Ð°Ð½ÐµÑˆÑŒ Ñ…Ð¾Ð´ÑÑ‡ÐµÐ¹ Ð±Ð¾Ð¼Ð±Ð¾Ð¹! Ð—Ð°Ð¿Ð¾Ñ€ â€“ ÑÑ‚Ð¾ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð°Ñ ÑƒÐ³Ñ€Ð¾Ð·Ð°, Ð° ÐµÑÐ»Ð¸ Ð·Ð°Ð±Ð¸Ñ‚ÑŒ Ð½Ð° Ð½ÐµÐ³Ð¾, Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð¿Ð°ÑÑ‚ÑŒ Ð½Ð° Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ ÑÑ‚Ð¾Ð»!', type: 'text' },
        { q: 'Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ ðŸ’© Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ Ð²ÐµÑÑŒ Ð¼Ð¸Ñ€ Ð·Ð° Ð´ÐµÐ½ÑŒ?', a: 'Ð•ÑÐ»Ð¸ Ð²Ð·ÑÑ‚ÑŒ Ð²ÑÐµÑ… Ð»ÑŽÐ´ÐµÐ¹ Ð½Ð° Ð¿Ð»Ð°Ð½ÐµÑ‚Ðµ, Ð¾Ð½Ð¸ Ð²Ð¼ÐµÑÑ‚Ðµ ÑÑ€ÑƒÑ‚ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ 1 500 000 Ñ‚Ð¾Ð½Ð½ ðŸ’© Ð² Ð´ÐµÐ½ÑŒ. Ð•ÑÐ»Ð¸ ÑÑ‚Ð¾ Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‚Ð¸Ñ‚ÑŒ Ð² ÑƒÐ´Ð¾Ð±Ñ€ÐµÐ½Ð¸Ðµ, Ñ‚Ð¾ Ñ…Ð²Ð°Ñ‚Ð¸Ñ‚, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°ÑÐµÑÑ‚ÑŒ Ð²ÑÑŽ ÐÑ„Ñ€Ð¸ÐºÑƒ!', type: 'number' },
        { q: 'ÐšÐ°Ðº ðŸ’© Ð²Ð»Ð¸ÑÐµÑ‚ Ð½Ð° Ð²ÐµÑ?', a: 'Ð•ÑÐ»Ð¸ Ñ‚Ñ‹ Ð²ÐµÑÐ¸ÑˆÑŒ 80 ÐºÐ³, Ð² Ñ‚ÐµÐ±Ðµ Ð² ÑÑ€ÐµÐ´Ð½ÐµÐ¼ Ð¾ÐºÐ¾Ð»Ð¾ 1 ÐºÐ³ ðŸ’©, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¶Ð´ÐµÑ‚ ÑÐ²Ð¾ÐµÐ³Ð¾ Ñ‡Ð°ÑÐ°!', type: 'text' },
        { q: 'ÐšÐ°Ðº Ð´Ð¾Ð»Ð³Ð¾ ðŸ’© Ñ€Ð°Ð·Ð»Ð°Ð³Ð°ÐµÑ‚ÑÑ Ð² Ð¿Ñ€Ð¸Ñ€Ð¾Ð´Ðµ?', a: 'ÐžÐ±Ñ‹Ñ‡Ð½Ð¾Ðµ Ñ‡ÐµÐ»Ð¾Ð²ÐµÑ‡ÐµÑÐºÐ¾Ðµ ðŸ’© Ñ€Ð°Ð·Ð»Ð°Ð³Ð°ÐµÑ‚ÑÑ Ð·Ð° 1-3 Ð³Ð¾Ð´Ð°, Ð° ÐµÑÐ»Ð¸ Ñ‚Ñ‹ Ñ„Ð°Ð½Ð°Ñ‚ Ð¿Ð»Ð°ÑÑ‚Ð¸ÐºÐ° Ð¸ Ñ…Ð¸Ð¼Ð¸Ð¸ â€“ Ñ‚Ð¾ Ð´Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð²ÐµÑ‡Ð½Ð¾ÑÑ‚ÑŒ! Ð’Ð¾Ð´Ð° Ð¸ ÑÐ¾Ð»Ð½Ñ†Ðµ ÑƒÑÐºÐ¾Ñ€ÑÑŽÑ‚ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ, Ð½Ð¾ Ð² Ð³ÐµÑ€Ð¼ÐµÑ‚Ð¸Ñ‡Ð½Ð¾Ð¼ Ð¼ÐµÑÑ‚Ðµ ðŸ’© Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒÑÑ Ð´ÐµÑÑÑ‚Ð¸Ð»ÐµÑ‚Ð¸ÑÐ¼Ð¸!', type: 'text' },
        { q: 'ÐšÐ°ÐºÐ¾Ðµ ðŸ’© ÑÐ°Ð¼Ð¾Ðµ Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ Ð² Ð¼Ð¸Ñ€Ðµ?', a: 'Ð“Ð¾Ð²Ð½Ð¾ Ð»ÐµÐ½Ð¸Ð²Ñ†Ð° â€“ Ð½Ð°ÑÑ‚Ð¾ÑÑ‰Ð¸Ð¹ Ð±Ð¸Ð¾Ñ…Ð°Ð·Ð°Ñ€Ð´! ÐžÐ½Ð¾ Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ð¾ÐºÑÐ¸Ñ‡Ð½Ð¾Ðµ, Ñ‡Ñ‚Ð¾ ÐµÑÐ»Ð¸ Ð»ÐµÐ½Ð¸Ð²ÐµÑ† Ð¿Ð¾Ñ€ÐµÐ¶ÐµÑ‚ÑÑ Ð¿Ñ€Ð¸ Ð´ÐµÑ„ÐµÐºÐ°Ñ†Ð¸Ð¸ (Ð° ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÐµÑ‚), Ñ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ ÑƒÐ¼ÐµÑ€ÐµÑ‚ÑŒ Ð¾Ñ‚ Ð¸Ð½Ñ„ÐµÐºÑ†Ð¸Ð¸. Ð¢Ð°Ðº Ñ‡Ñ‚Ð¾ ÐµÐ³Ð¾ ðŸ’© â€“ ÑÐ¼ÐµÑ€Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¾Ð¿Ð°ÑÐ½Ñ‹Ð¹ Ð°ÐºÑÐµÑÑÑƒÐ°Ñ€ Ð² Ð¼Ð¸Ñ€Ðµ Ð¿Ñ€Ð¸Ñ€Ð¾Ð´Ñ‹!', type: 'text' },
      ]

      let questionIndexes = [...questions.keys()].sort(() => Math.random() - 0.5)
      let currentQuestionIndex = 0
      let answers = []

      const questionElement = document.getElementById('question')
      const answerInput = document.getElementById('answer')
      const responseElement = document.getElementById('response')
      const submitButton = document.getElementById('submit')
      const nextButton = document.getElementById('next')

      function loadQuestion() {
        const question = questions[questionIndexes[currentQuestionIndex]]
        questionElement.textContent = question.q
        answerInput.value = ''
        answerInput.setAttribute('type', question.type === 'number' ? 'number' : 'text')
        responseElement.classList.add('hidden')
        nextButton.classList.add('hidden')
        submitButton.classList.remove('hidden')
      }

      submitButton.addEventListener('click', () => {
        const userAnswer = answerInput.value.trim()
        const questionIndex = questionIndexes[currentQuestionIndex]
        const question = questions[questionIndex]

        if (!userAnswer || (question.type === 'number' && isNaN(userAnswer))) {
          alert('ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚!')
          return
        }

        answers.push({ questionNumber: questionIndex + 1, answer: userAnswer })

        responseElement.textContent = question.a
        responseElement.classList.remove('hidden')
        submitButton.classList.add('hidden')
        nextButton.classList.remove('hidden')
      })

      nextButton.addEventListener('click', () => {
        currentQuestionIndex++
        if (currentQuestionIndex < questions.length) {
          loadQuestion()
        } else {
          fetch('http://localhost:443/quiz/submit', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ answers }),
          })
            .then((response) => {
              if (response.status === 200) {
                answerInput.style.display = 'none'
                responseElement.style.display = 'none'
                nextButton.style.display = 'none'
                submitButton.style.display = 'none'
                return response.json()
              }
            })
            .then((data) => {
              if (data) {
                console.log(data.score)
                questionElement.textContent = data.score
              } else {
                console.log('Ð”Ð°Ñ‚Ñ‹ Ð½ÐµÑ‚')
              }
            })
            .catch((err) => console.error('ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ Ð¾Ñ‚Ð²ÐµÑ‚Ð°:', err))
        }
      })

      loadQuestion()
    </script>
  </body>
</html>
